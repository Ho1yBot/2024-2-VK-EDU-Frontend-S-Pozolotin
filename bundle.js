!function(e){var t={};function n(a){if(t[a])return t[a].exports;var c=t[a]={i:a,l:!1,exports:{}};return e[a].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(a,c,function(t){return e[t]}.bind(null,c));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);function a(e){return JSON.parse(localStorage.getItem("messages_".concat(e)))||[]}var c=document.createElement("input");function o(e){e.preventDefault();var t=document.querySelector(".form-input"),n=t.value.trim();if(n){var a={text:n,sender:"Вы",time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};!function(e,t){var n=JSON.parse(localStorage.getItem("messages_".concat(e)))||[];n.push(t),localStorage.setItem("messages_".concat(e),JSON.stringify(n))}(localStorage.getItem("currentChat"),a),s(a),t.value=""}}function r(e){var t=document.querySelector("form");"Enter"!==e.key||e.shiftKey||(e.preventDefault(),t.dispatchEvent(new Event("submit")))}function s(e){var t=document.querySelector(".messages-container"),n=document.createElement("div");n.classList.add("message-container");var a=document.createElement("div");a.classList.add("message-sender"),a.textContent=e.sender;var c=document.createElement("div");c.classList.add("message-text"),c.textContent=e.text;var o=document.createElement("div");o.classList.add("message-time"),o.textContent=e.time,n.appendChild(a),n.appendChild(c),n.appendChild(o),t.appendChild(n),t.scrollTop=t.scrollHeight}c.type="file",c.style.display="none";var i,l=document.getElementById("header-component"),d=document.getElementById("chat-list-component"),u=document.getElementById("floating-button-component");l.appendChild(function(){var e=document.createElement("div");e.classList.add("header","center"),e.innerHTML='<button class="header_burger-menu"><img src="./static/images/burger-menu.svg" alt="Кнопка меню"></button>\n        <button class="header_title">\n            <div class="header_title-text">Messanger</div>\n        </button>\n        <nav class="header_nav">\n            <button class="header_search"><img src="./static/images/search-icon.svg" alt="Search"></button>\n            <button id="menu-button" style="display: none;"><img src="./static/images/menu-dots.svg" alt="Меню"></button>\n            <div id="menu-container" class="menu-container hidden"> \n                <ul class="menu_list">\n                    <li class="menu_item"><button>Info</button></li>\n                    <li class="menu_item"><button>Mute</button></li>\n                    <li class="menu_item"><button id="clear-local-storage">Clear messages</button></li>\n                </ul>\n            </div>\n        </nav>';var t=e.querySelector("#menu-button"),n=e.querySelector("#menu-container");return t.addEventListener("click",(function(){n.classList.toggle("hidden")})),document.addEventListener("click",(function(e){t.contains(e.target)||n.contains(e.target)||n.classList.add("hidden")})),e}()),d.appendChild(function(){var e=document.createElement("div");function t(){document.querySelector(".chat-window").remove(),document.getElementById("chat-list-component").style.display="flex",document.querySelector(".header_title-text").textContent="Messenger",document.getElementById("menu-button").style.display="none";var e=document.getElementById("floating-button-component");e&&(e.style.display="block")}return e.classList.add("chat-container"),[{id:1,avatar:"./static/images/user-icon.svg",title:"Чат с Андреем",lastMessage:"Последнее сообщение...",time:"14:23",isRead:!0}].forEach((function(n){var c=document.createElement("button");c.classList.add("chat-item");var i=a(n.id),l=i.length>0?i[i.length-1]:{text:"Нет сообщений",time:""};c.innerHTML='\n        <div class="chat-info-wrp">\n            <img src="'.concat(n.avatar,'" alt="Аватарка">\n            <div class="chat-info">\n                <h3>').concat(n.title,"</h3>\n                <p>").concat(l.text,'</p> \n            </div>\n        </div>\n        <div class="chat-time">\n            <span>').concat(l.time||"","</span> \n            ").concat(n.isRead?'<span class="read-status">✓✓</span>':"","\n        </div>"),c.addEventListener("click",(function(){return function(e,n){!function(e){localStorage.setItem("currentChat",e)}(e);var c=document.getElementById("floating-button-component");c&&(c.style.display="none");document.getElementById("chat-list-component").style.display="none",document.getElementById("menu-button").style.display="block";var i=document.createElement("div");i.classList.add("chat-window","center"),i.innerHTML='\n            <div class="chat-header">\n                <button class="back-button"><img src="./static/images/arrow-back.svg" alt="Вернуться к списку чатов"></button>\n            </div>\n            <div class="messages-container"></div>\n        \n            <form class="form" action="/">\n                <textarea class="form-input" name="message-text" placeholder="Введите сообщение" type="text"></textarea>\n                <button class="attach"><img src="./static/images/attach-file-icon.svg" alt="Добавление файла"></button>\n                <button type="submit"><img src="./static/images/send-icon.svg" alt="Отправка сообщения"></button>\n            </form>',document.querySelector(".header_title-text").textContent=n,document.getElementById("header-component").insertAdjacentElement("afterend",i),i.querySelector(".back-button").addEventListener("click",t),function(e){var t=a(e),n=document.querySelector(".messages-container");t.forEach((function(e){return s(e)})),n.scrollTop=n.scrollHeight}(e);var l=i.querySelector("form");l.addEventListener("submit",(function(e){e.preventDefault(),o(e)})),l.addEventListener("keypress",r),document.getElementById("clear-local-storage").addEventListener("click",(function(){var e=localStorage.getItem("currentChat");e&&(localStorage.removeItem("messages_".concat(e)),document.querySelector(".messages-container").innerHTML="")}))}(n.id,n.title)})),e.appendChild(c)})),e}()),u.appendChild(((i=document.createElement("button")).classList.add("floating-button"),i.innerHTML='<img src="./static/images/create-chat.svg" alt="Создать чат">',i.onclick=function(){},i)),a();var m=document.querySelector("form");document.querySelector(".form-input");m.addEventListener("submit",o),m.addEventListener("keypress",r)}]);